<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
    <link rel="icon" type="image/x-icon" href="/favicon2.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            margin-block-start: 0;
            margin-block-end: 0;
        }
    </style>
    <script>

        let currentPokemon;
        async function loadPokemon() {
            let pokedexSearch = document.getElementById('pokedexSearch').value.toLowerCase();
            let url = `https://pokeapi.co/api/v2/pokemon/${pokedexSearch}`;
            let response = await fetch(url);
            currentPokemon = await response.json();
            console.log('loaded pokemon', currentPokemon);
            showPokemonInfo();
        }


        function showPokemonInfo() {
            if (currentPokemon['name'] == undefined) { document.getElementById('pokemonName').innerHTML = 'Which Pokemon do you want to search?' }
            else {
                document.getElementById('pokemonName').innerHTML = 'Name: ' + upperCase(currentPokemon['name']);
                document.getElementById('pokemonNumber').innerHTML = 'Number: ' + (currentPokemon['id']);
                pokemonType();
            }
        }

        function upperCase(pokemonNameUpperCase) {
            return pokemonNameUpperCase.charAt(0).toUpperCase() + pokemonNameUpperCase.slice(1);
        }

function renderPokemon() {
    let loadedPokemon = document.getElementById('allPokemon');
    loadedPokemon = '';

    for (let i = 0; i < array.length; i++) {
     
    loadedPokemon.innerHTML += `<div></div>`


    }
}


        function pokemonType() {
            let pokemonType = document.getElementById('pokemonType');
            pokemonType.innerHTML = "";
            for (let i = 0; i < currentPokemon['types'].length; i++) {
                const type = currentPokemon['types'][i]['type']['name'];
                pokemonType.innerHTML += `<div>${type}</div>
                   `
            }
        }


        /* this function sets the color of a Pokemon depending on its type */


        function pokemonTypeAsColor(type) {
            
            switch (type) {
                case "normal": document.getElementById('pokemonType-' + i).classList.add('normal');
                    break;
                case "fire": document.getElementById('pokemonType-' + i).classList.add('fire');
                    break;
                case "flying": document.getElementById('pokemonType-' + i).classList.add('flying');
                    break;
                case "psychic": document.getElementById('pokemonType-' + i).classList.add('psychic');
                    break;
                case "water": document.getElementById('pokemonType-' + i).classList.add('water');
                    break;
                case "grass": document.getElementById('pokemonType-' + i).classList.add('grass');
                    break;
                case "rock": document.getElementById('pokemonType-' + i).classList.add('rock');
                    break;
                case "electric": document.getElementById('pokemonType-' + i).classList.add('electric');
                    break;
                case "ghost": document.getElementById('pokemonType-' + i).classList.add('ghost');
                    break;
                case "ice": document.getElementById('pokemonType-' + i).classList.add('ice');
                    break;
                case "dark": document.getElementById('pokemonType-' + i).classList.add('dark');
                    break;
                case "fighting": document.getElementById('pokemonType-' + i).classList.add('fighting');
                    break;
                case "dragon": document.getElementById('pokemonType-' + i).classList.add('dragon');
                    break;
                case "poison": document.getElementById('pokemonType-' + i).classList.add('poison');
                    break;
                case "steel": document.getElementById('pokemonType-' + i).classList.add('steel');
                    break;
                case "ground": document.getElementById('pokemonType-' + i).classList.add('ground');
                    break;
                case "fairy": document.getElementById('pokemonType-' + i).classList.add('fairy');
                    break;
                case "bug": document.getElementById('pokemonType-' + i).classList.add('bug');
                    break;
            }

        }





    </script>
</head>

<body onload="loadPokemon()">
    <div id="pokedex">
        <input id="pokedexSearch" placeholder="Pokemon Name" type="text">
        <button id="searchButton" onclick="loadPokemon()">Search</button>
        <h1>Pokedex</h1>
        <h2 id="pokemonName"></h2>
        <h2 id="pokemonNumber"></h2>
        <h2 id="pokemonType"></h2>

        <div id="allPokemon"></div>

    </div>


</body>

<script>
    const node = document.getElementById("pokedexSearch");
    node.addEventListener("keyup", function (event) {
        if (event.key === "Enter") {
            loadPokemon();
        }
    });
</script>

</html>

<!-- was braucht man? 
Nummer (id) (Pos 6 id)
Typ (am besten mit Farben im Hintergrund je nach Pokemon) Pos ()
if type < 1 color1 = color2 (types)
Bild (sprites) -->